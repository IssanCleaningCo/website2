document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".icon-menu");e&&e.addEventListener("click",function(e){document.body.classList.toggle("menu-open"),e.preventDefault()}),document.querySelectorAll(".menu__link").forEach(e=>{e.addEventListener("click",function(){document.body.classList.remove("menu-open")})}),document.addEventListener("click",function(e){e.target.closest(".header__navigation")||e.target.closest(".icon-menu")||document.body.classList.remove("menu-open")});let t=window.location.pathname;e=document.querySelectorAll(".mobile-nav__item");e.forEach(e=>{e.getAttribute("href")===t.split("/").pop()&&e.classList.add("active")});let o=document.querySelector(".mobile-nav");o&&requestAnimationFrame(()=>{o.style.transform="translateY(0)"}),e.forEach(n=>{n.addEventListener("touchstart",function(e){var t=n.getBoundingClientRect();let o=document.createElement("div");o.className="ripple",o.style.left=e.touches[0].clientX-t.left+"px",o.style.top=e.touches[0].clientY-t.top+"px",n.appendChild(o),setTimeout(()=>{o.remove()},500)})})});let spollerButtons=document.querySelectorAll("[data-spoller] .spollers-faq__button"),heroMessages=(spollerButtons.forEach(n=>{n.addEventListener("click",function(){let o=n.closest("[data-spoller]");var e=o.querySelector(".spollers-faq__text"),t=o.parentNode;t.hasAttribute("data-one-spoller")&&t.querySelectorAll("[data-spoller]").forEach(e=>{var t;e!==o&&(t=e.querySelector(".spollers-faq__text"),e.classList.remove("active"),t.style.maxHeight=null)}),o.classList.contains("active")?(o.classList.remove("active"),e.style.maxHeight=null):(o.classList.add("active"),e.style.maxHeight=e.scrollHeight+"px")})}),document.addEventListener("DOMContentLoaded",function(){let t=document.querySelectorAll(".testimonial__slide"),o=document.querySelectorAll(".dot"),n=0,a;function r(e){t.forEach(e=>e.classList.remove("active")),o.forEach(e=>e.classList.remove("active")),t[e].classList.add("active"),o[e].classList.add("active"),n=e}function e(){r(n=(n+1)%t.length)}function s(){a=setInterval(e,5e3)}o.forEach((e,t)=>{e.addEventListener("click",()=>{clearInterval(a),r(t),s()})}),r(0),s();var i=document.querySelector(".testimonial__slider");i.addEventListener("mouseenter",()=>clearInterval(a)),i.addEventListener("mouseleave",s)}),document.addEventListener("DOMContentLoaded",function(){let t=document.querySelectorAll(".booking__tab"),o=document.querySelectorAll(".booking__panel");t.forEach(e=>{e.addEventListener("click",()=>{t.forEach(e=>e.classList.remove("active")),o.forEach(e=>e.classList.remove("active")),e.classList.add("active"),document.getElementById(e.dataset.tab+"-panel").classList.add("active")})})}),document.addEventListener("DOMContentLoaded",function(){let t=0,o=document.querySelector(".header");window.addEventListener("scroll",()=>{var e=window.pageYOffset;e<=0?o.classList.remove("header--hidden"):(e>t&&100<e?o.classList.add("header--hidden"):e<t&&o.classList.remove("header--hidden"),t=e)})}),document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("booking-service");let t=document.getElementById("service-checklist"),o=document.querySelectorAll(".checklist-content");e&&e.addEventListener("change",function(){var e=this.value;o.forEach(e=>e.classList.add("hidden")),e?(t.classList.remove("hidden"),(e=document.querySelector(`[data-service="${e}"]`))&&e.classList.remove("hidden")):t.classList.add("hidden")})}),{en:[{title:"Come Home to Perfect",text:"Imagine walking into your spotless home, leaving stress at the door, and simply enjoying your space. We handle the cleaning, so you can focus on living."},{title:"Your Sanctuary Awaits",text:"There's nothing quite like stepping into a freshly cleaned home. Let us create that moment of pure relaxation for you, where cleaning is the last thing on your mind."},{title:"Relax. It's Done.",text:"Experience the bliss of coming home to a perfectly cleaned space. No chores, no stress – just the pure joy of a pristine home ready for you to enjoy."}],es:[{title:"Llegue a un Hogar Perfecto",text:"Imagine entrar a su casa impecable, dejando la ansiedad en la puerta y simplemente disfrutando de su espacio."},{title:"Su Santuario le Espera",text:"No hay nada como llegar a una casa recién limpia. Dejemos que nosotros creamos ese momento de pureza para ti, donde la limpieza es la última cosa en tu mente."},{title:"Relájese. Ya Está Hecho.",text:"Experimente la felicidad de llegar a un espacio perfectamente limpio. No hay tareas, no ansiedad – solo la felicidad pura de una casa limpia lista para disfrutar."}]});function setRandomHeroMessage(){var e,t,o;(window.location.pathname.endsWith("index.html")||"/"===window.location.pathname||window.location.pathname.endsWith("es/index.html"))&&(e=(e=window.location.pathname.includes("/es/")?heroMessages.es:heroMessages.en)[Math.floor(Math.random()*e.length)],t=document.querySelector(".main__title"),o=document.querySelector(".main__text"),t)&&o&&(t.textContent=e.title,o.textContent=e.text)}function preloadCriticalVideos(){["videos/cleaning.mp4","videos/home.mp4"].forEach(e=>{var t=document.createElement("link");t.rel="preload",t.as="video",t.href=e,document.head.appendChild(t)})}function debounce(t,o){let n;return function(...e){clearTimeout(n),n=setTimeout(()=>{clearTimeout(n),t(...e)},o)}}document.addEventListener("DOMContentLoaded",setRandomHeroMessage),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("img").forEach(e=>{e.loading="lazy",e.decoding="async",e.classList.contains("logo")||e.closest(".header")||e.closest(".services__item")||e.closest(".about__image")?(e.loading="eager",e.decoding="sync"):(e.loading="lazy",e.decoding="async")}),document.querySelectorAll("video").forEach(t=>{t.preload="auto",new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting?t.play():t.pause()})}).observe(t)})}),document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll("video");if(0<e.length){let o=new IntersectionObserver(e=>{e.forEach(e=>{var t=e.target;e.isIntersecting&&(t.dataset.src&&(t.src=t.dataset.src,t.removeAttribute("data-src")),!t.poster&&t.dataset.poster&&(t.poster=t.dataset.poster),t.hasAttribute("autoplay")&&t.play().catch(e=>console.log("Video autoplay prevented:",e)),o.unobserve(t))})},{rootMargin:"50px 0px",threshold:.1});e.forEach(e=>{e.src&&(e.dataset.src=e.src,e.removeAttribute("src")),e.preload="none",e.classList.add("video-lazy"),o.observe(e)})}}),preloadCriticalVideos();let optimizedScroll=debounce(()=>{window.pageYOffset},16),scrollObserver=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("visible")})},{threshold:.1});if(document.querySelectorAll(".fade-in, .slide-in").forEach(e=>{scrollObserver.observe(e)}),"performance"in window&&window.addEventListener("load",()=>{var e=performance.getEntriesByType("navigation")[0];console.log(`Page Load Time: ${e.loadEventEnd-e.navigationStart}ms`)}),"performance"in window&&"PerformanceObserver"in window){let e=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{"largest-contentful-paint"===e.entryType&&console.log("LCP:",e.startTime),"first-input"===e.entryType&&console.log("FID:",e.processingStart-e.startTime)})});e.observe({entryTypes:["largest-contentful-paint","first-input"]})}function debounceSubmit(t,o){let n;return function(...e){clearTimeout(n),n=setTimeout(()=>{clearTimeout(n),t(...e)},o)}}let debouncedSubmit=debounceSubmit(e=>{sendEmail(e)},300);"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("ServiceWorker registered")}).catch(e=>{console.log("ServiceWorker registration failed:",e)})});