document.addEventListener("DOMContentLoaded",function(){const iconMenu=document.querySelector(".icon-menu");if(iconMenu){iconMenu.addEventListener("click",function(e){document.body.classList.toggle("menu-open");e.preventDefault()})}const menuLinks=document.querySelectorAll(".menu__link");menuLinks.forEach(link=>{link.addEventListener("click",function(){document.body.classList.remove("menu-open")})});document.addEventListener("click",function(e){if(!e.target.closest(".header__navigation")&&!e.target.closest(".icon-menu")){document.body.classList.remove("menu-open")}});const currentPath=window.location.pathname;const mobileNavItems=document.querySelectorAll(".mobile-nav__item");mobileNavItems.forEach(item=>{if(item.getAttribute("href")===currentPath.split("/").pop()){item.classList.add("active")}});const mobileNav=document.querySelector(".mobile-nav");if(mobileNav){requestAnimationFrame(()=>{mobileNav.style.transform="translateY(0)"})}mobileNavItems.forEach(item=>{item.addEventListener("touchstart",function(e){const rect=item.getBoundingClientRect();const ripple=document.createElement("div");ripple.className="ripple";ripple.style.left=`${e.touches[0].clientX-rect.left}px`;ripple.style.top=`${e.touches[0].clientY-rect.top}px`;item.appendChild(ripple);setTimeout(()=>{ripple.remove()},500)})})});const spollerButtons=document.querySelectorAll("[data-spoller] .spollers-faq__button");spollerButtons.forEach(button=>{button.addEventListener("click",function(){const currentItem=button.closest("[data-spoller]");const content=currentItem.querySelector(".spollers-faq__text");const parent=currentItem.parentNode;const isOneSpoller=parent.hasAttribute("data-one-spoller");if(isOneSpoller){const allItems=parent.querySelectorAll("[data-spoller]");allItems.forEach(item=>{if(item!==currentItem){const otherContent=item.querySelector(".spollers-faq__text");item.classList.remove("active");otherContent.style.maxHeight=null}})}if(currentItem.classList.contains("active")){currentItem.classList.remove("active");content.style.maxHeight=null}else{currentItem.classList.add("active");content.style.maxHeight=content.scrollHeight+"px"}})});document.addEventListener("DOMContentLoaded",function(){const slides=document.querySelectorAll(".testimonial__slide");const dots=document.querySelectorAll(".dot");let currentSlide=0;let slideInterval;function showSlide(index){slides.forEach(slide=>slide.classList.remove("active"));dots.forEach(dot=>dot.classList.remove("active"));slides[index].classList.add("active");dots[index].classList.add("active");currentSlide=index}function nextSlide(){currentSlide=(currentSlide+1)%slides.length;showSlide(currentSlide)}dots.forEach((dot,index)=>{dot.addEventListener("click",()=>{clearInterval(slideInterval);showSlide(index);startSlideShow()})});function startSlideShow(){slideInterval=setInterval(nextSlide,5e3)}showSlide(0);startSlideShow();const slider=document.querySelector(".testimonial__slider");slider.addEventListener("mouseenter",()=>clearInterval(slideInterval));slider.addEventListener("mouseleave",startSlideShow)});document.addEventListener("DOMContentLoaded",function(){const tabs=document.querySelectorAll(".booking__tab");const panels=document.querySelectorAll(".booking__panel");tabs.forEach(tab=>{tab.addEventListener("click",()=>{tabs.forEach(t=>t.classList.remove("active"));panels.forEach(p=>p.classList.remove("active"));tab.classList.add("active");document.getElementById(`${tab.dataset.tab}-panel`).classList.add("active")})});function sendBooking(e){e.preventDefault();const form=document.getElementById("booking-form");const templateParams={name:form.name.value,email:form.email.value,phone:form.phone.value,service:form.service.value,size:form.size.value,bedrooms:form.bedrooms.value,bathrooms:form.bathrooms.value,date:form.date.value,time:form.time.value,notes:form.notes.value};emailjs.send("service_6cikdqq","template_rsq8lj2",templateParams).then(function(response){console.log("SUCCESS",response);alert("Booking request sent successfully! We'll contact you shortly to confirm.");form.reset()},function(error){console.log("FAILED",error);alert("Failed to send booking request. Please try again.")});return false}});document.addEventListener("DOMContentLoaded",function(){let lastScroll=0;const header=document.querySelector(".header");const scrollThreshold=100;window.addEventListener("scroll",()=>{const currentScroll=window.pageYOffset;if(currentScroll<=0){header.classList.remove("header--hidden");return}if(currentScroll>lastScroll&&currentScroll>scrollThreshold){header.classList.add("header--hidden")}else if(currentScroll<lastScroll){header.classList.remove("header--hidden")}lastScroll=currentScroll})});document.addEventListener("DOMContentLoaded",function(){const serviceSelect=document.getElementById("booking-service");const checklist=document.getElementById("service-checklist");const checklistContents=document.querySelectorAll(".checklist-content");if(serviceSelect){serviceSelect.addEventListener("change",function(){const selectedService=this.value;checklistContents.forEach(content=>content.classList.add("hidden"));if(selectedService){checklist.classList.remove("hidden");const selectedChecklist=document.querySelector(`[data-service="${selectedService}"]`);if(selectedChecklist){selectedChecklist.classList.remove("hidden")}}else{checklist.classList.add("hidden")}})}});const heroMessages={en:[{title:"Come Home to Perfect",text:"Imagine walking into your spotless home, leaving stress at the door, and simply enjoying your space. We handle the cleaning, so you can focus on living."},{title:"Your Sanctuary Awaits",text:"There's nothing quite like stepping into a freshly cleaned home. Let us create that moment of pure relaxation for you, where cleaning is the last thing on your mind."},{title:"Relax. It's Done.",text:"Experience the bliss of coming home to a perfectly cleaned space. No chores, no stress – just the pure joy of a pristine home ready for you to enjoy."}],es:[{title:"Llegue a un Hogar Perfecto",text:"Imagine entrar a su casa impecable, dejando la ansiedad en la puerta y simplemente disfrutando de su espacio."},{title:"Su Santuario le Espera",text:"No hay nada como llegar a una casa recién limpia. Dejemos que nosotros creamos ese momento de pureza para ti, donde la limpieza es la última cosa en tu mente."},{title:"Relájese. Ya Está Hecho.",text:"Experimente la felicidad de llegar a un espacio perfectamente limpio. No hay tareas, no ansiedad – solo la felicidad pura de una casa limpia lista para disfrutar."}]};function setRandomHeroMessage(){if(window.location.pathname.endsWith("index.html")||window.location.pathname==="/"||window.location.pathname.endsWith("es/index.html")){const isSpanish=window.location.pathname.includes("/es/");const messages=isSpanish?heroMessages.es:heroMessages.en;const randomIndex=Math.floor(Math.random()*messages.length);const message=messages[randomIndex];const titleElement=document.querySelector(".main__title");const textElement=document.querySelector(".main__text");if(titleElement&&textElement){titleElement.textContent=message.title;textElement.textContent=message.text}}}document.addEventListener("DOMContentLoaded",setRandomHeroMessage);document.addEventListener("DOMContentLoaded",function(){const images=document.querySelectorAll("img");images.forEach(img=>{img.loading="lazy";img.decoding="async";if(img.classList.contains("logo")||img.closest(".header")||img.closest(".services__item")||img.closest(".about__image")){img.loading="eager";img.decoding="sync"}else{img.loading="lazy";img.decoding="async"}});const videos=document.querySelectorAll("video");videos.forEach(video=>{video.preload="auto";const observer=new IntersectionObserver(entries=>{entries.forEach(entry=>{if(entry.isIntersecting){video.play()}else{video.pause()}})});observer.observe(video)})});function debounce(func,wait){let timeout;return function executedFunction(...args){const later=()=>{clearTimeout(timeout);func(...args)};clearTimeout(timeout);timeout=setTimeout(later,wait)}}const optimizedScroll=debounce(()=>{const currentScroll=window.pageYOffset},16);const scrollObserver=new IntersectionObserver(entries=>{entries.forEach(entry=>{if(entry.isIntersecting){entry.target.classList.add("visible")}})},{threshold:.1});document.querySelectorAll(".fade-in, .slide-in").forEach(el=>{scrollObserver.observe(el)});if("performance"in window){window.addEventListener("load",()=>{const timing=performance.getEntriesByType("navigation")[0];console.log(`Page Load Time: ${timing.loadEventEnd-timing.navigationStart}ms`)})}if("performance"in window&&"PerformanceObserver"in window){const observer=new PerformanceObserver(list=>{list.getEntries().forEach(entry=>{if(entry.entryType==="largest-contentful-paint"){console.log("LCP:",entry.startTime)}if(entry.entryType==="first-input"){console.log("FID:",entry.processingStart-entry.startTime)}})});observer.observe({entryTypes:["largest-contentful-paint","first-input"]})}function debounceSubmit(func,wait){let timeout;return function executedFunction(...args){const later=()=>{clearTimeout(timeout);func(...args)};clearTimeout(timeout);timeout=setTimeout(later,wait)}}const debouncedSubmit=debounceSubmit(e=>{sendEmail(e)},300);if("serviceWorker"in navigator){window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(registration=>{console.log("ServiceWorker registered")}).catch(err=>{console.log("ServiceWorker registration failed:",err)})})}